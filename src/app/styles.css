/**
 * Глобальные стили
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply antialiased;
  }

  body {
    @apply text-gray-900 bg-gray-50;
  }
}

@layer components {
  /* Анимация появления */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.4s ease-out forwards;
  }

  .animate-scale-in {
    animation: scaleIn 0.3s ease-out forwards;
  }

  /* Анимация пульсации для загрузки */
  .animate-pulse-soft {
    animation: pulseSoft 1.5s ease-in-out infinite;
  }

  /* Стили для слайдера */
  .slider-track {
    @apply w-full h-2 bg-gray-200 rounded-full cursor-pointer;
  }

  .slider-thumb {
    @apply w-5 h-5 bg-primary-600 rounded-full shadow-md cursor-grab active:cursor-grabbing;
    @apply hover:bg-primary-700 hover:scale-110 transition-all duration-150;
  }

  /* Стили для тултипа */
  .tooltip {
    @apply invisible opacity-0 absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg;
    @apply transition-all duration-200 ease-out;
    max-width: 280px;
  }

  .tooltip-trigger:hover .tooltip,
  .tooltip-trigger:focus .tooltip {
    @apply visible opacity-100;
  }

  /* Фиксированная шапка таблицы */
  .sticky-header th {
    @apply sticky top-0 z-10 bg-gray-50 shadow-sm;
  }

  /* Подсветка строк */
  .row-early-repayment {
    @apply bg-green-50 border-l-4 border-green-500;
  }

  .row-year-separator {
    @apply bg-gray-100 font-semibold;
  }
}

@layer utilities {
  /* Плавные переходы для интерактивных элементов */
  .transition-smooth {
    @apply transition-all duration-300 ease-out;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulseSoft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* Стили для range input */
input[type="range"] {
  @apply w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer;
}

input[type="range"]::-webkit-slider-thumb {
  @apply appearance-none w-5 h-5 bg-primary-600 rounded-full shadow-md cursor-grab;
  @apply hover:bg-primary-700 transition-colors;
}

input[type="range"]::-moz-range-thumb {
  @apply w-5 h-5 bg-primary-600 rounded-full shadow-md cursor-grab border-0;
  @apply hover:bg-primary-700 transition-colors;
}

input[type="range"]:focus {
  @apply outline-none;
}

input[type="range"]::-webkit-slider-runnable-track {
  @apply h-2 rounded-full;
}

input[type="range"]::-moz-range-track {
  @apply h-2 bg-gray-200 rounded-full;
}
